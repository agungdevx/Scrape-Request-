<!DOCTYPE html>
<html><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Scrape Request</title><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"><style>
:root{--bg-primary:#000;--bg-secondary:#111;--bg-tertiary:#1a1a1a;--text-primary:#fff;--text-secondary:#888;--border:#333;--accent:#fff;--accent-hover:#f0f0f0;--error:#f44;--success:#0c6;--info:#3b82f6}
*{margin:0;padding:0;box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Oxygen,Ubuntu,Cantarell,'Open Sans','Helvetica Neue',sans-serif}
body{background-color:var(--bg-primary);color:var(--text-primary);line-height:1.6;min-height:100vh;display:flex;flex-direction:column;padding:1rem}
.container{max-width:640px;width:100%;margin:0 auto;padding:2rem 1rem}
.header{text-align:center;margin-bottom:3rem}
.logo{display:flex;align-items:center;justify-content:center;gap:.75rem;margin-bottom:1rem}
.logo-icon{background:var(--bg-secondary);border:1px solid var(--border);width:40px;height:40px;border-radius:8px;display:flex;align-items:center;justify-content:center;color:var(--text-primary);font-weight:600;font-size:1.1rem}
.logo-text{font-size:1.8rem;font-weight:600;letter-spacing:-.5px}
.subtitle{color:var(--text-secondary);font-size:.95rem;max-width:400px;margin:0 auto}
.form-container{background:var(--bg-secondary);border:1px solid var(--border);border-radius:12px;padding:2rem;margin-bottom:2rem}
.form-group{margin-bottom:2rem}
.form-label{display:block;margin-bottom:.75rem;font-weight:500;color:var(--text-primary);font-size:.95rem}
.form-input{width:100%;padding:.875rem 1rem;background:var(--bg-primary);border:1px solid var(--border);border-radius:8px;color:var(--text-primary);font-size:.95rem;transition:all .2s}
.form-input:focus{outline:none;border-color:var(--text-primary)}
.form-input::placeholder{color:var(--text-secondary)}
textarea.form-input{resize:vertical;min-height:120px}
.verification-container{background:var(--bg-tertiary);border:1px solid var(--border);border-radius:12px;padding:2rem;margin-bottom:2rem}
.verification-title{font-size:1rem;font-weight:600;margin-bottom:1.5rem;display:flex;align-items:center;gap:.75rem;color:var(--text-primary)}
.verification-title i{color:var(--text-primary)}
.captcha-display{background:var(--bg-secondary);border:1px solid var(--border);border-radius:8px;padding:1.5rem;margin-bottom:2rem;text-align:center}
.captcha-text{font-family:'Courier New',monospace;font-size:1.8rem;letter-spacing:8px;font-weight:600;color:var(--text-primary);padding:.5rem 0;user-select:none}
.captcha-note{color:var(--text-secondary);font-size:.85rem;margin-top:.5rem}
.captcha-input-container{display:flex;justify-content:center;gap:12px;margin-bottom:1.5rem}
.captcha-input-box{width:56px;height:56px;background:var(--bg-primary);border:2px solid var(--border);border-radius:8px;text-align:center;font-size:1.8rem;font-weight:600;color:var(--text-primary);caret-color:transparent;transition:all .2s}
.captcha-input-box:focus{outline:none;border-color:var(--text-primary);box-shadow:0 0 0 2px rgba(255,255,255,.1)}
.captcha-input-box.filled{border-color:var(--text-primary)}
.captcha-controls{display:flex;justify-content:space-between;align-items:center;margin-top:1.5rem}
.captcha-refresh{background:transparent;border:1px solid var(--border);color:var(--text-secondary);cursor:pointer;padding:.75rem 1.25rem;border-radius:8px;transition:all .2s;font-size:.9rem;display:flex;align-items:center;gap:.5rem}
.captcha-refresh:hover{background:var(--bg-secondary);color:var(--text-primary);border-color:var(--text-primary)}
.captcha-length{color:var(--text-secondary);font-size:.85rem}
.submit-btn{width:100%;padding:1rem;background:var(--accent);color:var(--bg-primary);border:none;border-radius:8px;font-size:1rem;font-weight:600;cursor:pointer;transition:all .2s;display:flex;align-items:center;justify-content:center;gap:.75rem;margin-top:1rem}
.submit-btn:hover{background:var(--accent-hover)}
.submit-btn:disabled{background:var(--border);color:var(--text-secondary);cursor:not-allowed}
.loading-spinner{display:none;width:20px;height:20px;border:3px solid rgba(0,0,0,.3);border-radius:50%;border-top-color:var(--bg-primary);animation:spin 1s linear infinite}
@keyframes spin{to{transform:rotate(360deg)}}
.footer{text-align:center;margin-top:3rem;padding-top:2rem;border-top:1px solid var(--border);color:var(--text-secondary);font-size:.875rem}
.requirements{font-size:.85rem;color:var(--text-secondary);margin-top:.5rem;display:flex;align-items:center;gap:.5rem}
.requirements i{color:var(--text-secondary)}
/* TOAST NOTIFICATION SYSTEM */
.toast-container{position:fixed;top:20px;right:20px;z-index:9999;display:flex;flex-direction:column;gap:12px;max-width:400px}
.toast{background:var(--bg-secondary);border:1px solid var(--border);border-radius:12px;padding:16px;box-shadow:0 10px 25px rgba(0,0,0,.3);display:flex;align-items:flex-start;gap:12px;transform:translateX(120%);transition:transform .3s cubic-bezier(0.68, -0.55, 0.265, 1.55);position:relative;overflow:hidden}
.toast.show{transform:translateX(0)}
.toast-icon{width:24px;height:24px;display:flex;align-items:center;justify-content:center;border-radius:50%;flex-shrink:0}
.toast.success .toast-icon{background:rgba(16,185,129,.15);color:var(--success)}
.toast.error .toast-icon{background:rgba(239,68,68,.15);color:var(--error)}
.toast.info .toast-icon{background:rgba(59,130,246,.15);color:var(--info)}
.toast-content{flex:1}
.toast-title{font-weight:600;font-size:.95rem;margin-bottom:4px}
.toast-message{font-size:.875rem;color:var(--text-secondary);line-height:1.4}
.toast-close{background:none;border:none;color:var(--text-secondary);cursor:pointer;padding:4px;margin-left:4px;transition:color .2s;flex-shrink:0}
.toast-close:hover{color:var(--text-primary)}
.toast-progress{position:absolute;bottom:0;left:0;height:3px;background:var(--success);width:100%;transform:scaleX(1);transform-origin:left;animation:progress 5s linear forwards}
.toast.success .toast-progress{background:var(--success)}
.toast.error .toast-progress{background:var(--error)}
.toast.info .toast-progress{background:var(--info)}
@keyframes progress{to{transform:scaleX(0)}}
@media(max-width:640px){.container{padding:1rem .5rem}.form-container{padding:1.5rem}.captcha-input-box{width:48px;height:48px;font-size:1.5rem}.captcha-text{font-size:1.5rem;letter-spacing:6px}.toast-container{max-width:calc(100vw - 40px)}}
@media(prefers-color-scheme:light){:root{--bg-primary:#fff;--bg-secondary:#f9f9f9;--bg-tertiary:#f0f0f0;--text-primary:#000;--text-secondary:#666;--border:#e0e0e0;--accent:#000;--accent-hover:#333;--info:#1d4ed8}.toast{box-shadow:0 5px 15px rgba(0,0,0,.1)}.captcha-input-box{background:var(--bg-primary)}.loading-spinner{border-top-color:var(--bg-primary);border-color:rgba(255,255,255,.3)}}
</style></head><body>
<!-- Toast Notifications Container -->
<div class="toast-container" id="toastContainer"></div>

<div class="container"><header class="header"><div class="logo"><div class="logo-icon">SR</div><div class="logo-text">Scrape Request</div></div><p class="subtitle">Submit web scraping requests securely</p></header>

<div class="form-container"><form id="scrapeForm"><div class="form-group"><label class="form-label" for="name">Full Name</label><input type="text" id="name" class="form-input" placeholder="Enter your full name" required></div>
<div class="form-group"><label class="form-label" for="url">Website URL</label><input type="url" id="url" class="form-input" placeholder="https://example.com" pattern="^https://.*" required><p class="requirements"><i class="fas fa-info-circle"></i>Must start with https://</p></div>
<div class="form-group"><label class="form-label" for="description">Description</label><textarea id="description" class="form-input" rows="4" placeholder="Describe what data you want to scrape" required></textarea></div>
<div class="verification-container"><div class="verification-title"><i class="fas fa-shield-alt"></i>Security Verification</div>
<div class="captcha-display"><div id="captchaText" class="captcha-text">Loading...</div><p class="captcha-note">Enter the code exactly as shown (case-sensitive)</p></div>
<div class="captcha-input-container"><input type="text" class="captcha-input-box" maxlength="1" data-index="0"><input type="text" class="captcha-input-box" maxlength="1" data-index="1"><input type="text" class="captcha-input-box" maxlength="1" data-index="2"><input type="text" class="captcha-input-box" maxlength="1" data-index="3"></div>
<div class="captcha-controls"><span class="captcha-length">Enter 4 characters</span><button type="button" id="refreshCaptcha" class="captcha-refresh"><i class="fas fa-redo"></i><span>New Code</span></button></div></div>
<button type="submit" id="submitBtn" class="submit-btn"><span id="btnText">Submit Request</span><div id="loadingSpinner" class="loading-spinner"></div></button></form></div>
<footer class="footer"><p>© 2026 — Scrape Request. All rights reserved.</p></footer></div>
<script>
(async function(){
let currentCaptcha='';
const captchaInputs=document.querySelectorAll('.captcha-input-box');const captchaText=document.getElementById('captchaText');
const toastContainer=document.getElementById('toastContainer');
function showToast(title,message,type='info',duration=5000){const toastId='toast-'+Date.now()+Math.random().toString(36).substr(2,9);const toast=document.createElement('div');toast.className=`toast ${type}`;toast.id=toastId;
let icon='ℹ️';if(type==='success')icon='✓';else if(type==='error')icon='✕';
toast.innerHTML=`<div class="toast-icon">${icon}</div><div class="toast-content"><div class="toast-title">${title}</div><div class="toast-message">${message}</div></div><button class="toast-close" onclick="document.getElementById('${toastId}').remove()">×</button><div class="toast-progress"></div>`;
toastContainer.appendChild(toast);setTimeout(()=>toast.classList.add('show'),10);if(duration>0){setTimeout(()=>{toast.classList.remove('show');setTimeout(()=>{if(toast.parentNode)toast.parentNode.removeChild(toast);},300);},duration);}return toastId;}
async function loadCaptcha(){try{const response=await fetch('/api/captcha');if(response.ok){const data=await response.json();currentCaptcha=data.captcha;captchaText.textContent=currentCaptcha;clearCaptchaInputs();showToast('CAPTCHA Loaded','New verification code generated','info',3000);}else{captchaText.textContent='Error';showToast('Error','Failed to load CAPTCHA','error');}}catch(error){captchaText.textContent='Error';console.error('Failed to load CAPTCHA:',error);showToast('Network Error','Check your connection','error');}}
function clearCaptchaInputs(){captchaInputs.forEach(input=>{input.value='';input.classList.remove('filled');});if(captchaInputs[0])captchaInputs[0].focus();}
await loadCaptcha();
document.getElementById('refreshCaptcha').addEventListener('click',loadCaptcha);
captchaInputs.forEach((input,index)=>{input.addEventListener('input',function(e){const value=e.target.value;if(value.length>1)e.target.value=value.charAt(0);if(e.target.value){e.target.classList.add('filled');}else{e.target.classList.remove('filled');}if(value&&index<captchaInputs.length-1){captchaInputs[index+1].focus();}});
input.addEventListener('keydown',function(e){if(e.key==='Backspace'&&!e.target.value&&index>0){captchaInputs[index-1].focus();}});
input.addEventListener('paste',function(e){e.preventDefault();const pasted=e.clipboardData.getData('text').trim();if(pasted.length===4){for(let i=0;i<4;i++){if(i<pasted.length){captchaInputs[i].value=pasted[i];captchaInputs[i].classList.add('filled');}}captchaInputs[3].focus();}});});
function getCaptchaValue(){let value='';captchaInputs.forEach(input=>{value+=input.value;});return value;}
document.getElementById('scrapeForm').addEventListener('submit',async function(e){e.preventDefault();const name=document.getElementById('name').value.trim();const url=document.getElementById('url').value.trim();const description=document.getElementById('description').value.trim();const captchaValue=getCaptchaValue();
if(!name||!url||!description){showToast('Validation Error','Please fill all required fields','error');return;}
if(!url.startsWith('https://')){showToast('Validation Error','URL must start with https://','error');return;}
if(captchaValue.length!==4){showToast('Validation Error','Enter all 4 verification characters','error');return;}
const submitBtn=document.getElementById('submitBtn');const btnText=document.getElementById('btnText');const loadingSpinner=document.getElementById('loadingSpinner');
submitBtn.disabled=true;btnText.textContent='Sending...';loadingSpinner.style.display='block';
const sendingToast=showToast('Sending Request','Processing your submission...','info',0);
try{const response=await fetch('/api/send',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({name:name,url:url,description:description,captcha:captchaValue})});
const result=await response.json();const sendingToastEl=document.getElementById(sendingToast);if(sendingToastEl)sendingToastEl.remove();
if(response.ok){document.getElementById('scrapeForm').reset();await loadCaptcha();showToast('Success!','Request submitted successfully','success');}else{showToast('Submission Failed',result.error||'Please try again','error');await loadCaptcha();}}catch(error){const sendingToastEl=document.getElementById(sendingToast);if(sendingToastEl)sendingToastEl.remove();showToast('Network Error','Please check your connection','error');await loadCaptcha();}finally{submitBtn.disabled=false;btnText.textContent='Submit Request';loadingSpinner.style.display='none';}});
setInterval(loadCaptcha,180000);
document.addEventListener('DOMContentLoaded',()=>{document.getElementById('name').focus();showToast('Welcome','Submit your scraping request securely','info',4000);});
function detectTheme(){const isDark=window.matchMedia('(prefers-color-scheme: dark)').matches;if(!isDark){document.documentElement.style.setProperty('--bg-primary','#fff');document.documentElement.style.setProperty('--bg-secondary','#f9f9f9');document.documentElement.style.setProperty('--bg-tertiary','#f0f0f0');document.documentElement.style.setProperty('--text-primary','#000');document.documentElement.style.setProperty('--text-secondary','#666');document.documentElement.style.setProperty('--border','#e0e0e0');document.documentElement.style.setProperty('--accent','#000');document.documentElement.style.setProperty('--accent-hover','#333');document.documentElement.style.setProperty('--info','#1d4ed8');}}
detectTheme();window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change',detectTheme);
})();
</script>
</body></html>